Orphaned Disks:
Resources
| where type has "microsoft.compute/disks"
| extend diskState = tostring(properties.diskState)
| where managedBy == ""
or diskState == 'Unattached'
| project id, diskState, resourceGroup, location, subscriptionId

Orphaned NICs:
Resources
| where type has "microsoft.network/networkinterfaces"
| where "{nicWithPrivateEndpoints}" !has id
| where properties !has 'virtualmachine'
| project id, resourceGroup, location, subscriptionId

Resources
| where type has "microsoft.network/publicIPAddresses"
| extend ipAllocationMethod = tostring(properties.publicIPAllocationMethod)
| where properties.ipConfiguration == ""  // No associated IP configuration
| project id, ipAllocationMethod, resourceGroup, location, subscriptionId

Resources
| where type has "microsoft.network/loadBalancers"
| where isempty(properties.backendAddressPools) and isempty(properties.frontendIPConfigurations)  // No backend pools or front-end configurations
| project id, resourceGroup, location, subscriptionId

Resources
| where type has "microsoft.web/serverfarms"
| extend hostingApps = tostring(properties.numberOfSites)
| where hostingApps == "0"  // No apps running on the plan
| project id, resourceGroup, location, subscriptionId

